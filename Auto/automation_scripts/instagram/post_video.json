{
  "script_id": "ig_post_reel",
  "name": "Instagram Post Reel",
  "description": "Tự động đăng Reel lên Instagram",
  "platform": "instagram",
  "version": "1.0",
  "steps": [
    {
      "step_id": 1,
      "action": "open_url",
      "input": "https://www.instagram.com/",
      "description": "Mở Instagram"
    },
    {
      "step_id": 2,
      "action": "wait",
      "input": "5",
      "description": "Đợi trang load"
    },
    {
      "step_id": 3,
      "action": "click",
      "locator": "xpath://span[contains(text(),'Create') or contains(text(),'Tạo') or @aria-label='New post']",
      "description": "Click nút Create"
    },
    {
      "step_id": 4,
      "action": "wait",
      "input": "2",
      "description": "Đợi popup"
    },
    {
      "step_id": 5,
      "action": "upload_file",
      "locator": "xpath://input[@type='file']",
      "input": "{video_path}",
      "description": "Upload video Reel"
    },
    {
      "step_id": 6,
      "action": "wait",
      "input": "10",
      "description": "Đợi video upload và xử lý"
    },
    {
      "step_id": 7,
      "action": "click",
      "locator": "xpath://button[contains(text(),'Next') or contains(text(),'Tiếp')]",
      "description": "Click Next (chọn filter)"
    },
    {
      "step_id": 8,
      "action": "wait",
      "input": "2",
      "description": "Đợi"
    },
    {
      "step_id": 9,
      "action": "click",
      "locator": "xpath://button[contains(text(),'Next') or contains(text(),'Tiếp')]",
      "description": "Click Next (đến caption)"
    },
    {
      "step_id": 10,
      "action": "wait",
      "input": "2",
      "description": "Đợi"
    },
    {
      "step_id": 11,
      "action": "enter_text",
      "locator": "xpath://div[@aria-label='Write a caption...' or @data-lexical-editor='true']//p | //textarea",
      "input": "{caption}",
      "description": "Nhập caption"
    },
    {
      "step_id": 12,
      "action": "wait",
      "input": "2",
      "description": "Đợi"
    },
    {
      "step_id": 13,
      "action": "click",
      "locator": "xpath://button[contains(text(),'Share') or contains(text(),'Chia sẻ')]",
      "description": "Click Share để đăng Reel"
    },
    {
      "step_id": 14,
      "action": "wait",
      "input": "10",
      "description": "Đợi đăng hoàn tất"
    }
  ]
}
